{"ast":null,"code":"import React from'react';import{useDispatch,useSelector}from'react-redux';import{useNavigate}from'react-router';import{DELETE_CART,UPDATE_CART}from'../../store/cart';import Footer from'../../UI/Footer';import Messenger from'../../UI/Messenger';import NavBar from'../../UI/NavBar';import classes from'./Cart.module.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Cart=function Cart(){//State của cart list\nvar cartList=useSelector(function(state){return state.cart.listCart;})||[];//Dispatch actions\nvar dispatch=useDispatch();//Xóa sản phẩm\nvar deleteCartHandler=function deleteCartHandler(item){//Tìm vị trí của item trong state listCart\nvar index=cartList.indexOf(item);//Dispatch action xóa\ndispatch(DELETE_CART(index));};//Chuyển về trang shop\nvar navigate=useNavigate();//Function format thành tiền tệ\nvar formatter=new Intl.NumberFormat();//Giảm số lượng sản phẩm\nvar decreaseHandler=function decreaseHandler(item){//Tìm vị trí của item trong state listCart\nvar index=cartList.indexOf(item);//Giảm quantity\nvar counter=-1;//Dispatch action update\nif(cartList[index].quantity>1){dispatch(UPDATE_CART([index,counter]));}else if(cartList[index].quantity===1){dispatch(DELETE_CART(index));}};//Tăng số lượng sản phẩm\nvar increaseHandler=function increaseHandler(item){//Tìm vị trí của item trong state listCart\nvar index=cartList.indexOf(item);//Giảm quantity\nvar counter=1;//Dispatch action update\ndispatch(UPDATE_CART([index,counter]));};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(NavBar,{}),/*#__PURE__*/_jsxs(\"div\",{className:classes.cart,children:[/*#__PURE__*/_jsxs(\"div\",{className:classes.cart_banner,children:[/*#__PURE__*/_jsx(\"header\",{children:\"CART\"}),/*#__PURE__*/_jsx(\"p\",{children:\"CART\"})]}),/*#__PURE__*/_jsx(\"h1\",{children:\"SHOPPING CART\"}),/*#__PURE__*/_jsxs(\"table\",{className:classes.cart_items,children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"IMAGE\"}),/*#__PURE__*/_jsx(\"th\",{children:\"PRODUCT\"}),/*#__PURE__*/_jsx(\"th\",{children:\"PRICE\"}),/*#__PURE__*/_jsx(\"th\",{children:\"QUANTITY\"}),/*#__PURE__*/_jsx(\"th\",{children:\"TOTAL\"}),/*#__PURE__*/_jsx(\"th\",{children:\"REMOVE\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:cartList.map(function(items){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"img\",{src:items.img1,alt:items.name,className:classes.cart_imgs})}),/*#__PURE__*/_jsx(\"td\",{className:classes.name,children:items.name}),/*#__PURE__*/_jsxs(\"td\",{children:[formatter.format(items.price),\" VND\"]}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return decreaseHandler(items);},children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-caret-left\"})}),items.quantity,/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return increaseHandler(items);},children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-caret-right\"})})]}),/*#__PURE__*/_jsx(\"td\",{children:\"\".concat(formatter.format(items.totalPrice),\"\\n                    VND\")}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"i\",{className:\"far fa-trash-alt\",onClick:function onClick(){return deleteCartHandler(items);}})})]},items._id.$oid);})}),/*#__PURE__*/_jsx(\"tfoot\",{children:/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsxs(\"td\",{colSpan:\"6\",children:[/*#__PURE__*/_jsxs(\"button\",{id:classes.left,onClick:function onClick(){navigate('/shop');},children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-long-arrow-alt-left\"}),\" Continue shopping\"]}),/*#__PURE__*/_jsxs(\"button\",{id:classes.right,onClick:function onClick(){navigate('/checkout');},children:[\"Proceed to checkout \",/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-long-arrow-alt-right\"})]})]})})})]}),/*#__PURE__*/_jsxs(\"div\",{className:classes.cart_total,children:[/*#__PURE__*/_jsx(\"h2\",{children:\"CART TOTAL\"}),/*#__PURE__*/_jsx(\"h3\",{children:\"SUBTOTAL\"}),/*#__PURE__*/_jsxs(\"p\",{children:[formatter.format(cartList.reduce(function(prev,cur){return prev+cur.totalPrice;},0)),' ',\"VND\"]}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(\"h3\",{children:\"TOTAL\"}),/*#__PURE__*/_jsxs(\"p\",{id:classes.price_total,children:[formatter.format(cartList.reduce(function(prev,cur){return prev+cur.totalPrice;},0)),' ',\"VND\"]}),/*#__PURE__*/_jsxs(\"form\",{className:classes.coupon,children:[/*#__PURE__*/_jsx(\"input\",{placeholder:\"Enter your coupon\"}),/*#__PURE__*/_jsxs(\"button\",{children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-gift\\t\"}),\" Apply coupon\"]})]})]})]}),/*#__PURE__*/_jsx(Messenger,{}),/*#__PURE__*/_jsx(Footer,{})]});};export default Cart;","map":{"version":3,"names":["React","useDispatch","useSelector","useNavigate","DELETE_CART","UPDATE_CART","Footer","Messenger","NavBar","classes","Cart","cartList","state","cart","listCart","dispatch","deleteCartHandler","item","index","indexOf","navigate","formatter","Intl","NumberFormat","decreaseHandler","counter","quantity","increaseHandler","cart_banner","cart_items","map","items","img1","name","cart_imgs","format","price","totalPrice","_id","$oid","left","right","cart_total","reduce","prev","cur","price_total","coupon"],"sources":["/Users/tomle/Desktop/Funix/03. Reactjs.js/Assignment 3/src/pages/cart/Cart.js"],"sourcesContent":["import React from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useNavigate } from 'react-router';\nimport { DELETE_CART, UPDATE_CART } from '../../store/cart';\n\nimport Footer from '../../UI/Footer';\nimport Messenger from '../../UI/Messenger';\nimport NavBar from '../../UI/NavBar';\n\nimport classes from './Cart.module.css';\n\nconst Cart = () => {\n  //State của cart list\n  const cartList = useSelector((state) => state.cart.listCart) || [];\n  //Dispatch actions\n  const dispatch = useDispatch();\n\n  //Xóa sản phẩm\n  const deleteCartHandler = (item) => {\n    //Tìm vị trí của item trong state listCart\n    const index = cartList.indexOf(item);\n    //Dispatch action xóa\n    dispatch(DELETE_CART(index));\n  };\n\n  //Chuyển về trang shop\n  const navigate = useNavigate();\n\n  //Function format thành tiền tệ\n  const formatter = new Intl.NumberFormat();\n\n  //Giảm số lượng sản phẩm\n  const decreaseHandler = (item) => {\n    //Tìm vị trí của item trong state listCart\n    const index = cartList.indexOf(item);\n    //Giảm quantity\n    const counter = -1;\n    //Dispatch action update\n    if (cartList[index].quantity > 1) {\n      dispatch(UPDATE_CART([index, counter]));\n    } else if (cartList[index].quantity === 1) {\n      dispatch(DELETE_CART(index));\n    }\n  };\n\n  //Tăng số lượng sản phẩm\n  const increaseHandler = (item) => {\n    //Tìm vị trí của item trong state listCart\n    const index = cartList.indexOf(item);\n    //Giảm quantity\n    const counter = 1;\n    //Dispatch action update\n    dispatch(UPDATE_CART([index, counter]));\n  };\n\n  return (\n    <>\n      <NavBar />\n      <div className={classes.cart}>\n        <div className={classes.cart_banner}>\n          <header>CART</header>\n          <p>CART</p>\n        </div>\n        <h1>SHOPPING CART</h1>\n        <table className={classes.cart_items}>\n          <thead>\n            <tr>\n              <th>IMAGE</th>\n              <th>PRODUCT</th>\n              <th>PRICE</th>\n              <th>QUANTITY</th>\n              <th>TOTAL</th>\n              <th>REMOVE</th>\n            </tr>\n          </thead>\n          <tbody>\n            {cartList.map((items) => {\n              return (\n                <tr key={items._id.$oid}>\n                  <td>\n                    <img\n                      src={items.img1}\n                      alt={items.name}\n                      className={classes.cart_imgs}\n                    ></img>\n                  </td>\n                  <td className={classes.name}>{items.name}</td>\n                  <td>{formatter.format(items.price)} VND</td>\n                  <td>\n                    <button onClick={() => decreaseHandler(items)}>\n                      <i className='fas fa-caret-left'></i>\n                    </button>\n                    {items.quantity}\n                    <button onClick={() => increaseHandler(items)}>\n                      <i className='fas fa-caret-right'></i>\n                    </button>\n                  </td>\n                  <td>\n                    {`${formatter.format(items.totalPrice)}\n                    VND`}\n                  </td>\n                  <td>\n                    <i\n                      className='far fa-trash-alt'\n                      onClick={() => deleteCartHandler(items)}\n                    ></i>\n                  </td>\n                </tr>\n              );\n            })}\n          </tbody>\n          <tfoot>\n            <tr>\n              <td colSpan='6'>\n                <button\n                  id={classes.left}\n                  onClick={() => {\n                    navigate('/shop');\n                  }}\n                >\n                  <i className='fas fa-long-arrow-alt-left'></i>\n                  {} Continue shopping\n                </button>\n                <button\n                  id={classes.right}\n                  onClick={() => {\n                    navigate('/checkout');\n                  }}\n                >\n                  Proceed to checkout {}\n                  <i className='fas fa-long-arrow-alt-right'></i>\n                </button>\n              </td>\n            </tr>\n          </tfoot>\n        </table>\n        <div className={classes.cart_total}>\n          <h2>CART TOTAL</h2>\n          <h3>SUBTOTAL</h3>\n          <p>\n            {formatter.format(\n              cartList.reduce((prev, cur) => {\n                return prev + cur.totalPrice;\n              }, 0)\n            )}{' '}\n            VND\n          </p>\n          <hr></hr>\n          <h3>TOTAL</h3>\n          <p id={classes.price_total}>\n            {formatter.format(\n              cartList.reduce((prev, cur) => {\n                return prev + cur.totalPrice;\n              }, 0)\n            )}{' '}\n            VND\n          </p>\n          <form className={classes.coupon}>\n            <input placeholder='Enter your coupon'></input>\n            <button>\n              <i className='fas fa-gift\t'></i> Apply coupon\n            </button>\n          </form>\n        </div>\n      </div>\n      <Messenger />\n      <Footer />\n    </>\n  );\n};\n\nexport default Cart;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}