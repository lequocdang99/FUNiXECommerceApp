{"ast":null,"code":"import _regeneratorRuntime from\"/Users/tomle/Desktop/Funix/03. Reactjs.js/Assignment 3/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/tomle/Desktop/Funix/03. Reactjs.js/Assignment 3/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/tomle/Desktop/Funix/03. Reactjs.js/Assignment 3/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from'react';import{useState}from'react';import{useNavigate}from'react-router';import classes from'./ProductList.module.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var ProductList=function ProductList(){//State\nvar _useState=useState([]),_useState2=_slicedToArray(_useState,2),category=_useState2[0],setCategory=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),loaded=_useState4[0],setLoaded=_useState4[1];//Fetch sản phẩm\nvar fetchCategory=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(category){var response,data,result;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return fetch('https://firebasestorage.googleapis.com/v0/b/funix-subtitle.appspot.com/o/Boutique_products.json?alt=media&token=dc67a5ea-e3e0-479e-9eaf-5e01bcd09c74');case 3:response=_context.sent;_context.next=6;return response.json();case 6:data=_context.sent;if(category){_context.next=12;break;}setCategory(data);setLoaded(true);_context.next=17;break;case 12:_context.next=14;return data.filter(function(items){return items.category===category;});case 14:result=_context.sent;setCategory(result);setLoaded(true);case 17:_context.next=22;break;case 19:_context.prev=19;_context.t0=_context[\"catch\"](0);throw new Error('Request failed!');case 22:case\"end\":return _context.stop();}}},_callee,null,[[0,19]]);}));return function fetchCategory(_x){return _ref.apply(this,arguments);};}();//Chuyển trang\nvar navigate=useNavigate();//Function format thành tiền tệ\nvar formatter=new Intl.NumberFormat();return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:classes.menu,children:[/*#__PURE__*/_jsx(\"header\",{children:\"CATEGORIES\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{id:classes['apple'],children:\"APPLE\"}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return fetchCategory();},children:\"All\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{children:\"IPHONE & MAC\"}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){fetchCategory('iphone');},children:\"Iphone\"}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){fetchCategory('ipad');},children:\"Ipad\"}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){fetchCategory('macbook');},children:\"Macbook\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{children:\"WIRELESS\"}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){fetchCategory('airpod');},children:\"Airpod\"}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){fetchCategory('watch');},children:\"Watch\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{children:\"OTHER\"}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){fetchCategory('mouse');},children:\"Mouse\"}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){fetchCategory('keyboard');},children:\"Keyboard\"}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){fetchCategory('other');},children:\"Other\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:classes.result,children:[/*#__PURE__*/_jsxs(\"div\",{className:classes.result_filter,children:[/*#__PURE__*/_jsx(\"input\",{placeholder:\"Enter Search Here!\"}),/*#__PURE__*/_jsxs(\"select\",{children:[/*#__PURE__*/_jsx(\"option\",{children:\"Default Sorting\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Descending\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Ascending\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:classes.category,children:loaded&&category.map(function(items){return/*#__PURE__*/_jsxs(\"div\",{className:classes.category_products,children:[/*#__PURE__*/_jsx(\"img\",{src:items.img1,alt:items.name,onClick:function onClick(){return navigate(\"/detail/\".concat(items._id.$oid));}}),/*#__PURE__*/_jsx(\"header\",{children:items.name}),/*#__PURE__*/_jsxs(\"p\",{children:[formatter.format(items.price),\" VND\"]})]},items._id.$oid);})}),/*#__PURE__*/_jsxs(\"div\",{className:classes.result_page,children:[/*#__PURE__*/_jsxs(\"span\",{className:classes.result_button,children:[/*#__PURE__*/_jsx(\"button\",{children:\"<<\"}),loaded&&category.length>0&&/*#__PURE__*/_jsx(\"button\",{id:classes.main,children:\"1\"}),/*#__PURE__*/_jsx(\"button\",{children:\">>\"})]}),/*#__PURE__*/_jsx(\"p\",{children:\"Showing 1-9 of 9 results\"})]})]})]});};export default ProductList;","map":{"version":3,"names":["React","useState","useNavigate","classes","ProductList","category","setCategory","loaded","setLoaded","fetchCategory","fetch","response","json","data","filter","items","result","Error","navigate","formatter","Intl","NumberFormat","menu","result_filter","map","category_products","img1","name","_id","$oid","format","price","result_page","result_button","length","main"],"sources":["/Users/tomle/Desktop/Funix/03. Reactjs.js/Assignment 3/src/pages/shop/ProductList.js"],"sourcesContent":["import React from 'react';\nimport { useState } from 'react';\nimport { useNavigate } from 'react-router';\n\nimport classes from './ProductList.module.css';\n\nconst ProductList = () => {\n  //State\n  const [category, setCategory] = useState([]);\n  const [loaded, setLoaded] = useState(false);\n\n  //Fetch sản phẩm\n  const fetchCategory = async (category) => {\n    try {\n      const response = await fetch(\n        'https://firebasestorage.googleapis.com/v0/b/funix-subtitle.appspot.com/o/Boutique_products.json?alt=media&token=dc67a5ea-e3e0-479e-9eaf-5e01bcd09c74'\n      );\n      const data = await response.json();\n      if (!category) {\n        setCategory(data);\n        setLoaded(true);\n      } else {\n        const result = await data.filter(\n          (items) => items.category === category\n        );\n        setCategory(result);\n        setLoaded(true);\n      }\n    } catch (error) {\n      throw new Error('Request failed!');\n    }\n  };\n\n  //Chuyển trang\n  const navigate = useNavigate();\n\n  //Function format thành tiền tệ\n  const formatter = new Intl.NumberFormat();\n\n  return (\n    <>\n      <div className={classes.menu}>\n        <header>CATEGORIES</header>\n        <div>\n          <span id={classes['apple']}>APPLE</span>\n          <button onClick={() => fetchCategory()}>All</button>\n        </div>\n        <div>\n          <span>IPHONE & MAC</span>\n          <button\n            onClick={() => {\n              fetchCategory('iphone');\n            }}\n          >\n            Iphone\n          </button>\n          <button\n            onClick={() => {\n              fetchCategory('ipad');\n            }}\n          >\n            Ipad\n          </button>\n          <button\n            onClick={() => {\n              fetchCategory('macbook');\n            }}\n          >\n            Macbook\n          </button>\n        </div>\n        <div>\n          <span>WIRELESS</span>\n          <button\n            onClick={() => {\n              fetchCategory('airpod');\n            }}\n          >\n            Airpod\n          </button>\n          <button\n            onClick={() => {\n              fetchCategory('watch');\n            }}\n          >\n            Watch\n          </button>\n        </div>\n        <div>\n          <span>OTHER</span>\n          <button\n            onClick={() => {\n              fetchCategory('mouse');\n            }}\n          >\n            Mouse\n          </button>\n          <button\n            onClick={() => {\n              fetchCategory('keyboard');\n            }}\n          >\n            Keyboard\n          </button>\n          <button\n            onClick={() => {\n              fetchCategory('other');\n            }}\n          >\n            Other\n          </button>\n        </div>\n      </div>\n      <div className={classes.result}>\n        <div className={classes.result_filter}>\n          <input placeholder='Enter Search Here!'></input>\n          <select>\n            <option>Default Sorting</option>\n            <option>Descending</option>\n            <option>Ascending</option>\n          </select>\n        </div>\n        <div className={classes.category}>\n          {loaded &&\n            category.map((items) => {\n              return (\n                <div key={items._id.$oid} className={classes.category_products}>\n                  <img\n                    src={items.img1}\n                    alt={items.name}\n                    onClick={() => navigate(`/detail/${items._id.$oid}`)}\n                  />\n                  <header>{items.name}</header>\n                  <p>{formatter.format(items.price)} VND</p>\n                </div>\n              );\n            })}\n        </div>\n        <div className={classes.result_page}>\n          <span className={classes.result_button}>\n            <button>{`<<`}</button>\n            {loaded && category.length > 0 && (\n              <button id={classes.main}>1</button>\n            )}\n            <button>{`>>`}</button>\n          </span>\n          <p>Showing 1-9 of 9 results</p>\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default ProductList;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}