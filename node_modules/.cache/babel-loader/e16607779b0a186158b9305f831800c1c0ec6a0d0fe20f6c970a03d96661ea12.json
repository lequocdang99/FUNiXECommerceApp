{"ast":null,"code":"import _regeneratorRuntime from\"/Users/tomle/Desktop/Funix/03. Reactjs.js/Assignment 3/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/tomle/Desktop/Funix/03. Reactjs.js/Assignment 3/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/tomle/Desktop/Funix/03. Reactjs.js/Assignment 3/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';import{useDispatch,useSelector}from'react-redux';import{hidePopUp,showPopUp}from'../../store/popup';import classes from'./Products.module.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Products=function Products(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),products=_useState2[0],setProducts=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),loaded=_useState4[0],setLoaded=_useState4[1];//Fetch sản phẩm\nvar fetchProducts=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return fetch('https://firebasestorage.googleapis.com/v0/b/funix-subtitle.appspot.com/o/Boutique_products.json?alt=media&token=dc67a5ea-e3e0-479e-9eaf-5e01bcd09c74');case 3:response=_context.sent;_context.next=6;return response.json();case 6:data=_context.sent;setProducts(data);setLoaded(true);_context.next=14;break;case 11:_context.prev=11;_context.t0=_context[\"catch\"](0);throw new Error('Request failed!');case 14:case\"end\":return _context.stop();}}},_callee,null,[[0,11]]);}));return function fetchProducts(){return _ref.apply(this,arguments);};}();useEffect(function(){fetchProducts();},[]);//State pop up\nvar popup=useSelector(function(state){return state.popup.popup;});//Dispatch actions\nvar dispatch=useDispatch();//Function format thành tiền tệ\nvar formatter=new Intl.NumberFormat();return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:classes.products_text,children:[/*#__PURE__*/_jsx(\"p\",{children:\"MADE THE HARD WAY\"}),/*#__PURE__*/_jsx(\"h1\",{children:\"TOP TRENDING PRODUCTS\"})]}),/*#__PURE__*/_jsx(\"div\",{children:loaded&&products.map(function(items){return/*#__PURE__*/_jsxs(\"div\",{className:classes.products,children:[/*#__PURE__*/_jsx(\"img\",{src:items.img1,alt:items.name,onClick:function onClick(){!popup?dispatch(showPopUp(items)):dispatch(hidePopUp());}}),/*#__PURE__*/_jsx(\"header\",{children:items.name}),/*#__PURE__*/_jsxs(\"p\",{children:[formatter.format(items.price),\" VND\"]})]},items._id.$oid);})})]});};export default Products;","map":{"version":3,"names":["React","useEffect","useState","useDispatch","useSelector","hidePopUp","showPopUp","classes","Products","products","setProducts","loaded","setLoaded","fetchProducts","fetch","response","json","data","Error","popup","state","dispatch","formatter","Intl","NumberFormat","products_text","map","items","img1","name","format","price","_id","$oid"],"sources":["/Users/tomle/Desktop/Funix/03. Reactjs.js/Assignment 3/src/pages/home/Products.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { hidePopUp, showPopUp } from '../../store/popup';\n\nimport classes from './Products.module.css';\n\nconst Products = () => {\n  const [products, setProducts] = useState([]);\n  const [loaded, setLoaded] = useState(false);\n\n  //Fetch sản phẩm\n  const fetchProducts = async () => {\n    try {\n      const response = await fetch(\n        'https://firebasestorage.googleapis.com/v0/b/funix-subtitle.appspot.com/o/Boutique_products.json?alt=media&token=dc67a5ea-e3e0-479e-9eaf-5e01bcd09c74'\n      );\n      const data = await response.json();\n      setProducts(data);\n      setLoaded(true);\n    } catch (error) {\n      throw new Error('Request failed!');\n    }\n  };\n\n  useEffect(() => {\n    fetchProducts();\n  }, []);\n\n  //State pop up\n  const popup = useSelector((state) => state.popup.popup);\n\n  //Dispatch actions\n  const dispatch = useDispatch();\n\n  //Function format thành tiền tệ\n  const formatter = new Intl.NumberFormat();\n\n  return (\n    <>\n      <div className={classes.products_text}>\n        <p>MADE THE HARD WAY</p>\n        <h1>TOP TRENDING PRODUCTS</h1>\n      </div>\n      <div>\n        {loaded &&\n          products.map((items) => {\n            return (\n              <div key={items._id.$oid} className={classes.products}>\n                <img\n                  src={items.img1}\n                  alt={items.name}\n                  onClick={() => {\n                    !popup ? dispatch(showPopUp(items)) : dispatch(hidePopUp());\n                  }}\n                />\n                <header>{items.name}</header>\n                <p>{formatter.format(items.price)} VND</p>\n              </div>\n            );\n          })}\n      </div>\n    </>\n  );\n};\n\nexport default Products;\n"],"mappings":"obAAA,MAAOA,MAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,OAASC,WAAW,CAAEC,WAAW,KAAQ,aAAa,CACtD,OAASC,SAAS,CAAEC,SAAS,KAAQ,mBAAmB,CAExD,MAAOC,QAAO,KAAM,uBAAuB,CAAC,6IAE5C,GAAMC,SAAQ,CAAG,QAAXA,SAAQ,EAAS,CACrB,cAAgCN,QAAQ,CAAC,EAAE,CAAC,wCAArCO,QAAQ,eAAEC,WAAW,eAC5B,eAA4BR,QAAQ,CAAC,KAAK,CAAC,yCAApCS,MAAM,eAAEC,SAAS,eAExB;AACA,GAAMC,cAAa,4FAAG,6LAEKC,MAAK,CAC1B,sJAAsJ,CACvJ,QAFKC,QAAQ,qCAGKA,SAAQ,CAACC,IAAI,EAAE,QAA5BC,IAAI,eACVP,WAAW,CAACO,IAAI,CAAC,CACjBL,SAAS,CAAC,IAAI,CAAC,CAAC,sFAEV,IAAIM,MAAK,CAAC,iBAAiB,CAAC,sEAErC,kBAXKL,cAAa,0CAWlB,CAEDZ,SAAS,CAAC,UAAM,CACdY,aAAa,EAAE,CACjB,CAAC,CAAE,EAAE,CAAC,CAEN;AACA,GAAMM,MAAK,CAAGf,WAAW,CAAC,SAACgB,KAAK,QAAKA,MAAK,CAACD,KAAK,CAACA,KAAK,GAAC,CAEvD;AACA,GAAME,SAAQ,CAAGlB,WAAW,EAAE,CAE9B;AACA,GAAMmB,UAAS,CAAG,GAAIC,KAAI,CAACC,YAAY,EAAE,CAEzC,mBACE,wCACE,aAAK,SAAS,CAAEjB,OAAO,CAACkB,aAAc,wBACpC,wCAAwB,cACxB,6CAA8B,GAC1B,cACN,qBACGd,MAAM,EACLF,QAAQ,CAACiB,GAAG,CAAC,SAACC,KAAK,CAAK,CACtB,mBACE,aAA0B,SAAS,CAAEpB,OAAO,CAACE,QAAS,wBACpD,YACE,GAAG,CAAEkB,KAAK,CAACC,IAAK,CAChB,GAAG,CAAED,KAAK,CAACE,IAAK,CAChB,OAAO,CAAE,kBAAM,CACb,CAACV,KAAK,CAAGE,QAAQ,CAACf,SAAS,CAACqB,KAAK,CAAC,CAAC,CAAGN,QAAQ,CAAChB,SAAS,EAAE,CAAC,CAC7D,CAAE,EACF,cACF,wBAASsB,KAAK,CAACE,IAAI,EAAU,cAC7B,qBAAIP,SAAS,CAACQ,MAAM,CAACH,KAAK,CAACI,KAAK,CAAC,UAAS,GATlCJ,KAAK,CAACK,GAAG,CAACC,IAAI,CAUlB,CAEV,CAAC,CAAC,EACA,GACL,CAEP,CAAC,CAED,cAAezB,SAAQ"},"metadata":{},"sourceType":"module","externalDependencies":[]}